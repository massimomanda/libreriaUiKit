<div id="input-wrapper" [formGroup]="parentFormGroup" tabindex="0"  (focusout)="onBlur($event.target)" >
  <!-- (blur)="onBlur()"  -->
  <div class="wrapper">
    <label *ngIf="textLabel" [for]="for">{{ textLabel }}</label>
    <input [placeholder]="placeholder" [ngStyle]="{ background: backgroundInput, height: height }" [type]="type"
      [autocomplete]="autocomplete" [formControlName]="controlName" [name]="name" (keydown)="onKeyDown($event)"
      #input />

    <div *ngIf="showClear && !isSearching" class="clear" (click)="onClear()">
      <svg [ngClass]="class" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path [ngClass]="class" fill-rule="evenodd" clip-rule="evenodd"
          d="M2 12C2 6.47 6.47 2 12 2C17.53 2 22 6.47 22 12C22 17.53 17.53 22 12 22C6.47 22 2 17.53 2 12ZM12 10.59L14.59 8L16 9.41L13.41 12L16 14.59L14.59 16L12 13.41L9.41 16L8 14.59L10.59 12L8 9.41L9.41 8L12 10.59Z" />
      </svg>
    </div>

    <div *ngIf="isSearching && !showClear" class="loader-wrapper">
      <lib-img-loader></lib-img-loader>
    </div>
  </div>

  <div *ngIf="currentSelection && !selected" class="risposta-wrapper">
    {{ risposta }}
  </div>

  <div class="result" [class.selected]="selectedOption % searchResult.length === i"
    *ngFor="let result of searchResult; let i = index" (mousedown)="onSelect(result)" #resultContainer >
    {{ result }}
  </div>

  <div *ngIf="input">
    <!-- <div *ngIf="
        searchResult.length === 0 && input.value.length > 0 && !isSearching && !selected
      " class="no-result"> -->
      <div *ngIf="input.value.length > 0 && noResult && !isSearching" class="no-result">
      Nessun risultato
    </div>
  </div>
</div>